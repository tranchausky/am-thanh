<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh S√°ch √Çm Thanh T·∫øt</title>
    <base href="https://rawcdn.githack.com/tranchausky/am-thanh/54d389ba4f20df1638e22bb84f2b489e2b2635b0/nam-moi/" target="_blank">
    
    <style>
        :root {
            --tet-red: #d32f2f;
            --tet-gold: #ffd700;
            --dark: #121212;
            --card: #1e1e1e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background-color: var(--dark);
            color: white;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 { color: var(--tet-gold); font-size: 1.4rem; margin: 20px 0; text-transform: uppercase; }

        #audioList {
            width: 100%;
            max-width: 600px; /* Gi·ªõi h·∫°n ƒë·ªô r·ªông ƒë·ªÉ d·ªÖ nh√¨n tr√™n PC, tr√†n vi·ªÅn tr√™n Mobile */
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 0;
            list-style: none;
        }

        .audio-item {
            background: var(--card);
            border-radius: 10px;
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 1px solid #333;
            transition: 0.2s;
        }

        .stt {
            font-size: 0.9rem;
            color: var(--tet-gold);
            font-weight: bold;
            min-width: 25px;
        }

        .info-container {
            flex-grow: 1;
            overflow: hidden;
        }

        .audio-name {
            font-size: 0.85rem;
            color: #eee;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            margin-bottom: 4px;
        }

        .duration {
            font-size: 0.75rem;
            color: #888;
        }

        .btn-control {
            background: var(--tet-red);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.8rem;
            min-width: 70px;
            text-align: center;
        }

        /* Khi ƒëang ph√°t */
        .audio-item.playing {
            border-color: var(--tet-gold);
            background: #252525;
        }
        .audio-item.playing .btn-control {
            background: var(--tet-gold);
            color: black;
        }
    </style>
</head>
<body>

    <h1>üß® √Çm Thanh Ph√°o Hoa</h1>

    <ul id="audioList"></ul>
    <audio id="globalAudio" preload="none"></audio>

<script>
const files = ["1-freesound_community-firework-show-short-64657.mp3", "1-Nhac-chuong-tieng-phao-no-www_tiengdong_com.mp3", "1-Tieng-phao-no-www_tiengdong_com.mp3", "10-dragon-studio-fireworks-07-419025.mp3", "11-Tieng-ban-phao-hoa-www_tiengdong_com.mp3", "2-alex_jauk-loud-explosion-in-water-321247.mp3", "2-tieng-phao-no-phao-bi-th-www_tiengdong_com.mp3", "3-alex_jauk-firework-whistle-190306.mp3", "3-tieng-hu-cua-phao-hoa-ban-len-troi-www_tiengdong_com.mp3", "3-Tieng-phao-no-giao-thua-www_tiengdong_com.mp3", "4-Am-thanh-mua-xuan-www_tiengdong_com.mp3", "4-audiocoffee-new-year-fireworks-sound3-180204.mp3", "5-Am-thanh-tet-www_tiengdong_com.mp3", "5-freesound_community-firework_single-83058.mp3", "6-dragon-studio-fireworks-10-419029.mp3", "7-dragon-studio-fireworks-11-419030.mp3", "8-u_xg7ssi08yr-fireworks-379667.mp3", "9-dragon-studio-fireworks-13-419033.mp3", "audiocoffee-christmas-fireworks-impact-174521.mp3", "audiocoffee-new-year-fireworks-sound1-180201.mp3", "dragon-studio-fireworks-01-419018.mp3", "dragon-studio-fireworks-03-419021.mp3", "dragon-studio-fireworks-08-419026.mp3", "dragon-studio-fireworks-09-419028.mp3", "freesound_community-fireworkblast-106275.mp3", "freesound_community-fireworks-107116.mp3", "freesound_community-fireworks-29629.mp3", "freesound_community-fireworks-75208.mp3", "freesound_community-fireworks-close-29630.mp3", "freesound_community-fireworks-whistlewav-14541.mp3", "gearpile-explosion-3-386885.mp3", "Nhac-chuong-tet-www_tiengdong_com.mp3", "Nhac-chuong-tieng-keng-www_tiengdong_com.mp3", "nhac-nen-to-mo-cang-thang-nghiem-trong-www_tiengdong_com.mp3", "nhac-test-loa-trai-phai-cuc-chuan-bass-hay-www_tiengdong_com.mp3", "nico0825-fireworks-402788.mp3", "tanweraman-cracker-sound-261119.mp3", "tieng-countdown-happy-new-year-10s-va-ban-phao-hoa-www_tiengdong_com.mp3", "tieng-dem-nguoc-happy-new-year-10s-va-vo-tay-reo-ho-www_tiengdong_com.mp3", "tieng-nhieu-nguoi-noi-happy-new-year-www_tiengdong_com.mp3", "Tieng-phao-hoa-no-tren-bau-troi-www_tiengdong_com.mp3", "Tieng-phao-hoa-no-www_tiengdong_com.mp3", "tieng-tung-tung-tung-cua-hang-www_tiengdong_com.mp3", "Tieng-vo-tay-www_tiengdong_com.mp3", "tieng_ban_phao_hoa-www_tiengdong_com.mp3", "tommylynn-cake-firework-and-mortars-1-371028.mp3"];

const listContainer = document.getElementById('audioList');
const globalAudio = document.getElementById('globalAudio');
let currentPlayingId = null;

function formatTime(seconds) {
    if (isNaN(seconds)) return "00:00";
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
}

files.forEach((file, index) => {
    const li = document.createElement('li');
    li.className = 'audio-item';
    li.id = `item-${index}`;
    
    li.innerHTML = `
        <div class="stt">${index + 1}</div>
        <div class="info-container">
            <span class="audio-name">${file}</span>
            <span class="duration" id="dur-${index}">Loading...</span>
        </div>
        <button class="btn-control" onclick="togglePlay('${file}', ${index})">PH√ÅT</button>
    `;
    listContainer.appendChild(li);

    // L·∫•y th·ªùi l∆∞·ª£ng t·ª´ metadata
    const tempAudio = new Audio();
    tempAudio.preload = "metadata";
    tempAudio.src = file;
    tempAudio.onloadedmetadata = () => {
        document.getElementById(`dur-${index}`).innerText = formatTime(tempAudio.duration);
    };
});

function togglePlay(file, index) {
    const item = document.getElementById(`item-${index}`);
    const btn = item.querySelector('.btn-control');

    if (currentPlayingId === index) {
        globalAudio.pause();
        resetUI();
        currentPlayingId = null;
        return;
    }

    resetUI();
    globalAudio.src = file;
    globalAudio.play();
    currentPlayingId = index;

    item.classList.add('playing');
    btn.innerText = "D·ª™NG";
}

function resetUI() {
    document.querySelectorAll('.audio-item').forEach((el) => {
        el.classList.remove('playing');
        el.querySelector('.btn-control').innerText = "PH√ÅT";
    });
}

globalAudio.onended = () => {
    resetUI();
    currentPlayingId = null;
};
</script>

</body>
</html>
